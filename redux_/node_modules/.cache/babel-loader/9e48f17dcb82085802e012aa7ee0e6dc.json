{"ast":null,"code":"var _jsxFileName = \"/Users/maikegeleidi/Desktop/Other/React/redux/src/app.js\";\nimport React from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\nimport Home from './home';\nimport Main from './main';\nimport Add from './add';\nimport Footer from \"./foot\";\nexport default class App extends React.Component {\n  // constructor(props){\n  //     super(props);\n  //     this.now = 0;\n  //     this.state = {\n  //         data:[\n  //             {\n  //                 id       : 0,\n  //                 title    : \"空白格11\",\n  //                 singer   : \"蔡健雅11\",\n  //                 selected : true,\n  //                 like     : false\n  //             },{\n  //                 id       : 1,\n  //                 title    : \"空白格22\",\n  //                 singer   : \"蔡健雅2222\",\n  //                 selected : true,\n  //                 like     : false\n  //             },{\n  //                 id       : 2,\n  //                 title    : \"空白格33\",\n  //                 singer   : \"蔡健雅33333\",\n  //                 selected : true,\n  //                 like     : false\n  //             },{\n  //                 id       : 3,\n  //                 title    : \"空白格33\",\n  //                 singer   : \"蔡健雅33333\",\n  //                 selected : true,\n  //                 like     : false\n  //             }\n  //         ]\n  //     }\n  //     this.add = this.add.bind(this);\n  //     this.checkAll = this.checkAll.bind(this);\n  //     this.setCheck = this.setCheck.bind(this);\n  //     this.setLike = this.setLike.bind(this);\n  //     this.remove = this.remove.bind(this);\n  //     this.removeSelect = this.removeSelect.bind(this);\n  //     this.likeSelect = this.likeSelect.bind(this);\n  //     this.cancelLikeSelect = this.cancelLikeSelect.bind(this);\n  // }\n  //\n  // add(title,singer){\n  //     let data = this.state.data;\n  //     if (!title && !singer) return;\n  //     data.push({\n  //         id:this.now,\n  //         title:title,\n  //         singer:singer,\n  //         selected :false,\n  //         like:false\n  //     });\n  //     this.now++;\n  //     this.setState({\n  //         data\n  //     })\n  // }\n  // isCheckAll(){\n  //\n  //     let data = this.state.data;\n  //     for(let i = 0; i < data.length; i++){\n  //         if(!data[i].selected){\n  //             return false;\n  //         }\n  //     }\n  //     return true;\n  // }\n  //\n  // checkAll(checked){\n  //     let data = this.state.data.map((value)=>{\n  //         value.selected = checked;\n  //         return value;\n  //     });\n  //     this.setState({\n  //         data\n  //     })\n  // }\n  //\n  // setCheck(index,checked){\n  //     let data = this.state.data;\n  //     data.forEach((val)=>{\n  //         if (val.id === index){\n  //             val.selected = checked;\n  //         }\n  //     });\n  //     this.setState({\n  //         data\n  //     })\n  //     // data[index].selected  = checked;\n  //     // this.setState({\n  //     //     data\n  //     // })\n  // }\n  //\n  // setLike(index,checked){\n  //     let data = this.state.data;\n  //     // data[index].like = checked;\n  //     data.forEach((val)=>{\n  //         if (val.id === index){\n  //             val.like = checked;\n  //         }\n  //     });\n  //     this.setState({\n  //         data\n  //     })\n  // }\n  //\n  // remove(index){\n  //     let data = this.state.data.filter((val)=> val.id!== index);\n  //     this.setState({\n  //         data\n  //     })\n  // }\n  //\n  // removeSelect(){\n  //     let data = this.state.data.filter((val)=> !val.selected);\n  //     this.setState({\n  //         data\n  //     })\n  // }\n  //\n  // likeSelect(){\n  //     let data = this.state.data.map((val)=>{\n  //         if (val.selected){\n  //             val.like = true;\n  //         }\n  //         return val;\n  //     })\n  //     this.setState({\n  //         data\n  //     })\n  // }\n  //\n  // cancelLikeSelect(){\n  //     let data = this.state.data.map((val)=>{\n  //         if (val.selected){\n  //             val.like = false;\n  //         }\n  //         return val;\n  //     })\n  //     this.setState({\n  //         data\n  //     })\n  // }\n  //\n  // shouldComponentUpdate(nextProps, nextState, nextContext) {\n  //     if(!nextState.listState){\n  //         let likeData = nextState.data.filter((val)=>val.like);\n  //         if (!likeData.length){\n  //             this.setState({\n  //                 listState:true\n  //             });\n  //             return false\n  //         }\n  //     }\n  //     return true;\n  // }\n  render() {\n    return React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"musicApp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/add\",\n      render: e => {\n        //注册路由\n        return React.createElement(Add, {\n          length: this.state.data.length,\n          add: this.add,\n          router: e,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/\",\n      render: e => {\n        if (this.state.data.length === 0) {\n          return React.createElement(Redirect, {\n            to: \"/add\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 181\n            },\n            __self: this\n          }); // 重定向\n        }\n\n        return React.createElement(Home, {\n          pathName: e.location.pathname,\n          data: this.state.data,\n          checkAll: this.isCheckAll() // 检测是否全部选中\n          ,\n          setCheckAll: this.checkAll // 全选\n          ,\n          setCheck: this.setCheck // 单选\n          ,\n          setLike: this.setLike // 收藏\n          ,\n          remove: this.remove,\n          removeSelect: this.removeSelect // 删除选中歌曲\n          ,\n          likeSelect: this.likeSelect // 选中收藏\n          ,\n          cancelLikeSelect: this.cancelLikeSelect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/Users/maikegeleidi/Desktop/Other/React/redux/src/app.js"],"names":["React","BrowserRouter","Route","Switch","Redirect","ReactDOM","Home","Main","Add","Footer","App","Component","render","e","state","data","length","add","location","pathname","isCheckAll","checkAll","setCheck","setLike","remove","removeSelect","likeSelect","cancelLikeSelect"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,aAAR,EAAsBC,KAAtB,EAA4BC,MAA5B,EAAmCC,QAAnC,QAAmD,kBAAnD;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAQC,IAAR,MAAkB,QAAlB;AACA,OAAQC,IAAR,MAAkB,QAAlB;AACA,OAAQC,GAAR,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,eAAe,MAAMC,GAAN,SAAmBV,KAAK,CAACW,SAAzB,CAAmC;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAC,EAAAA,MAAM,GAAE;AACJ,WACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,EAAE,EAAC,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,MAAM,EAAGC,CAAD,IAAK;AAAE;AAC9B,eAAO,oBAAC,GAAD;AACH,UAAA,MAAM,EAAI,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,MADvB;AAEH,UAAA,GAAG,EAAI,KAAKC,GAFT;AAGH,UAAA,MAAM,EAAEJ,CAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAKH,OAND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAQI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,GAAZ;AAAgB,MAAA,MAAM,EAAGA,CAAD,IAAK;AACzB,YAAG,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,MAAhB,KAA2B,CAA9B,EAAgC;AAC5B,iBAAO,oBAAC,QAAD;AAAU,YAAA,EAAE,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP,CAD4B,CACC;AAChC;;AACD,eACI,oBAAC,IAAD;AACI,UAAA,QAAQ,EAAEH,CAAC,CAACK,QAAF,CAAWC,QADzB;AAEI,UAAA,IAAI,EAAI,KAAKL,KAAL,CAAWC,IAFvB;AAGI,UAAA,QAAQ,EAAE,KAAKK,UAAL,EAHd,CAGkC;AAHlC;AAII,UAAA,WAAW,EAAE,KAAKC,QAJtB,CAIkC;AAJlC;AAKI,UAAA,QAAQ,EAAE,KAAKC,QALnB,CAKkC;AALlC;AAMI,UAAA,OAAO,EAAI,KAAKC,OANpB,CAMkC;AANlC;AAOI,UAAA,MAAM,EAAI,KAAKC,MAPnB;AAQI,UAAA,YAAY,EAAI,KAAKC,YARzB,CAQgD;AARhD;AASI,UAAA,UAAU,EAAI,KAAKC,UATvB,CASgD;AAThD;AAUI,UAAA,gBAAgB,EAAI,KAAKC,gBAV7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAcH,OAlBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,CADJ,CADJ,CADJ;AAqCH;;AArM6C","sourcesContent":["import React from 'react';\nimport {BrowserRouter,Route,Switch,Redirect } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\nimport  Home from './home'\nimport  Main from './main'\nimport  Add  from './add'\nimport Footer from \"./foot\";\nexport default class App extends  React.Component {\n    // constructor(props){\n    //     super(props);\n    //     this.now = 0;\n    //     this.state = {\n    //         data:[\n    //             {\n    //                 id       : 0,\n    //                 title    : \"空白格11\",\n    //                 singer   : \"蔡健雅11\",\n    //                 selected : true,\n    //                 like     : false\n    //             },{\n    //                 id       : 1,\n    //                 title    : \"空白格22\",\n    //                 singer   : \"蔡健雅2222\",\n    //                 selected : true,\n    //                 like     : false\n    //             },{\n    //                 id       : 2,\n    //                 title    : \"空白格33\",\n    //                 singer   : \"蔡健雅33333\",\n    //                 selected : true,\n    //                 like     : false\n    //             },{\n    //                 id       : 3,\n    //                 title    : \"空白格33\",\n    //                 singer   : \"蔡健雅33333\",\n    //                 selected : true,\n    //                 like     : false\n    //             }\n    //         ]\n    //     }\n    //     this.add = this.add.bind(this);\n    //     this.checkAll = this.checkAll.bind(this);\n    //     this.setCheck = this.setCheck.bind(this);\n    //     this.setLike = this.setLike.bind(this);\n    //     this.remove = this.remove.bind(this);\n    //     this.removeSelect = this.removeSelect.bind(this);\n    //     this.likeSelect = this.likeSelect.bind(this);\n    //     this.cancelLikeSelect = this.cancelLikeSelect.bind(this);\n    // }\n    //\n    // add(title,singer){\n    //     let data = this.state.data;\n    //     if (!title && !singer) return;\n    //     data.push({\n    //         id:this.now,\n    //         title:title,\n    //         singer:singer,\n    //         selected :false,\n    //         like:false\n    //     });\n    //     this.now++;\n    //     this.setState({\n    //         data\n    //     })\n    // }\n    // isCheckAll(){\n    //\n    //     let data = this.state.data;\n    //     for(let i = 0; i < data.length; i++){\n    //         if(!data[i].selected){\n    //             return false;\n    //         }\n    //     }\n    //     return true;\n    // }\n    //\n    // checkAll(checked){\n    //     let data = this.state.data.map((value)=>{\n    //         value.selected = checked;\n    //         return value;\n    //     });\n    //     this.setState({\n    //         data\n    //     })\n    // }\n    //\n    // setCheck(index,checked){\n    //     let data = this.state.data;\n    //     data.forEach((val)=>{\n    //         if (val.id === index){\n    //             val.selected = checked;\n    //         }\n    //     });\n    //     this.setState({\n    //         data\n    //     })\n    //     // data[index].selected  = checked;\n    //     // this.setState({\n    //     //     data\n    //     // })\n    // }\n    //\n    // setLike(index,checked){\n    //     let data = this.state.data;\n    //     // data[index].like = checked;\n    //     data.forEach((val)=>{\n    //         if (val.id === index){\n    //             val.like = checked;\n    //         }\n    //     });\n    //     this.setState({\n    //         data\n    //     })\n    // }\n    //\n    // remove(index){\n    //     let data = this.state.data.filter((val)=> val.id!== index);\n    //     this.setState({\n    //         data\n    //     })\n    // }\n    //\n    // removeSelect(){\n    //     let data = this.state.data.filter((val)=> !val.selected);\n    //     this.setState({\n    //         data\n    //     })\n    // }\n    //\n    // likeSelect(){\n    //     let data = this.state.data.map((val)=>{\n    //         if (val.selected){\n    //             val.like = true;\n    //         }\n    //         return val;\n    //     })\n    //     this.setState({\n    //         data\n    //     })\n    // }\n    //\n    // cancelLikeSelect(){\n    //     let data = this.state.data.map((val)=>{\n    //         if (val.selected){\n    //             val.like = false;\n    //         }\n    //         return val;\n    //     })\n    //     this.setState({\n    //         data\n    //     })\n    // }\n    //\n    // shouldComponentUpdate(nextProps, nextState, nextContext) {\n    //     if(!nextState.listState){\n    //         let likeData = nextState.data.filter((val)=>val.like);\n    //         if (!likeData.length){\n    //             this.setState({\n    //                 listState:true\n    //             });\n    //             return false\n    //         }\n    //     }\n    //     return true;\n    // }\n\n    render(){\n        return(\n            <BrowserRouter>\n                <div id=\"musicApp\">\n                    <Switch>\n                        <Route path=\"/add\" render={(e)=>{ //注册路由\n                            return(<Add\n                                length = {this.state.data.length}\n                                add = {this.add}\n                                router={e}\n                            />);\n                        }} />\n                        <Route path=\"/\" render={(e)=>{\n                            if(this.state.data.length === 0){\n                                return <Redirect to=\"/add\"/> // 重定向\n                            }\n                            return (\n                                <Home\n                                    pathName={e.location.pathname}\n                                    data = {this.state.data}\n                                    checkAll={this.isCheckAll()}  // 检测是否全部选中\n                                    setCheckAll={this.checkAll}   // 全选\n                                    setCheck={this.setCheck}      // 单选\n                                    setLike = {this.setLike}      // 收藏\n                                    remove = {this.remove}\n                                    removeSelect = {this.removeSelect}          // 删除选中歌曲\n                                    likeSelect = {this.likeSelect}              // 选中收藏\n                                    cancelLikeSelect = {this.cancelLikeSelect}\n                                />\n                            );\n                        }}\n                        />\n\n                    </Switch>\n\n                </div>\n            </BrowserRouter>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}